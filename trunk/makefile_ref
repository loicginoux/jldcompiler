#--------------------------------------------------------
# la grammaire (voir src)
XLANG=MJAVA
#--------------------------------------------------------
# repertoires contenant egg
EDIR=/home/jnoleau/eclipse/plugins/mg.egg.runtime_5.0.2/lib
# les jars associes
GJAR=$(EDIR)/eggc.jar:.
#--------------------------------------------------------
# java, javac, jar
JDIR=/usr/lib/jvm/java-1.5.0-sun-1.5.0.13/bin
#--------------------------------------------------------
all : src att class

src :
	(cd mjc ; $(JDIR)/java -cp $(GJAR) mg.egg.eggc.internal.compiler.builder.EGGC $(XLANG).egg)

att :
	$(JDIR)/javac -classpath $(GJAR) mjc/gc/*.java
#	$(JDIR)/javac -classpath $(GJAR) mjc/tds/*.java
#	$(JDIR)/javac -classpath $(GJAR) mjc/type/*.java
	$(JDIR)/javac -classpath $(GJAR) mjc/compiler/*.java

class :
	$(JDIR)/javac -classpath $(GJAR) mjc/egg/*.java

clean :
	rm -rf $(PACKAGE)
	rm -f mjc/compiler/*.class
	rm -f mjc/gc/*.class
	rm -f mjc/tds/*.class
	rm -f mjc/type/*.class
	rm -f mjc/egg/*.class
	rm -f mjc/egg/*.tds

